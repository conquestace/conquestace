---
/* Listens for 'terminal-msg' events and prints them */
---
<pre id="terminal"
     class="bg-[#1a1e2a] p-4 rounded-xl shadow text-[#bfdbfe]
            whitespace-pre-wrap text-sm leading-relaxed
            min-h-[6rem] max-h-[20rem] overflow-y-auto
            border border-[#333] font-mono">
<span class="text-green-400">&gt; </span> 
</pre>

<script is:client>
  const term = document.getElementById('terminal');

  window.addEventListener('terminal-msg', e => {
    term.replaceChildren();
    const prefix = document.createElement('span');
    prefix.className = 'text-green-400';
    prefix.textContent = '> ';
    term.appendChild(prefix);
    term.appendChild(document.createTextNode(e.detail));
    term.scrollTop = term.scrollHeight;
  });
</script>
